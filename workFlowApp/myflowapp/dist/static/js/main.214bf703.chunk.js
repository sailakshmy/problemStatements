(this.webpackJsonpmyflowapp=this.webpackJsonpmyflowapp||[]).push([[0],{211:function(e,t,a){e.exports=a(407)},216:function(e,t,a){},217:function(e,t,a){},407:function(e,t,a){"use strict";a.r(t);var n=a(8),r=a(0),l=a.n(r),c=a(85),o=a.n(c),i=(a(216),a(9)),s=a(10),m=a(12),d=a(11),u=(a(217),a(5)),f=a(4),h=a(6),E=Object(h.b)(null,(function(e){return{signOut:function(){return e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"LOGOUT_SUCCESS"})}))}))}}}))((function(e){return l.a.createElement("ul",{className:"right"},l.a.createElement("li",null,l.a.createElement("a",{onClick:e.signOut,className:"btn white black-text"},"Log Out")))})),p=function(){return l.a.createElement("ul",{className:"right"},l.a.createElement("li",null,l.a.createElement(u.c,{to:"/signup",className:"btn white black-text"},"Sign up")),l.a.createElement("li",null,l.a.createElement(u.c,{to:"/signin",className:"btn white black-text"},"Log In")))},b=Object(h.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}))((function(e){var t=e.auth,a=e.profile;console.log(t.uid);var n=t.uid?l.a.createElement(E,{profile:a}):l.a.createElement(p,null);return l.a.createElement("nav",{className:"nav-wrapper pink darken-4"},l.a.createElement("div",{className:"left"},l.a.createElement(u.b,{to:"/",className:"brand-logo"},l.a.createElement("i",{className:"fas fa-sitemap small prefix"}),"FLOWAPP")),t.isLoaded&&n)})),v=function(e){var t=e.workflow;return l.a.createElement("div",null,l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-content"},l.a.createElement("i",{className:"material-icons right"},"delete"),l.a.createElement("span",null),l.a.createElement("p",{className:"card-title"},t.workflowTitle)),l.a.createElement("div",{className:"divider"}),l.a.createElement("div",{className:"card-content input-field"},l.a.createElement("i",{className:"material-icons right grey circle"},"done"))))},N=function(e){var t=e.workflows;return l.a.createElement("div",{className:"row"},t&&t.map((function(e){return l.a.createElement("div",{className:"col s4",key:e.id},l.a.createElement(u.b,{to:"/workflow/"+e.id},l.a.createElement(v,{workflow:e})))})))},g=a(21),w=a(15),O=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){console.log(this.props);var e=this.props,t=e.workflows;return e.auth.uid?l.a.createElement("div",null,l.a.createElement("div",{className:"divider"}),l.a.createElement("div",{className:"section"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s3"},l.a.createElement("div",{className:"row",id:"topbarsearch"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"searchBar"}),l.a.createElement("i",{className:"material-icons prefix"},"search"),l.a.createElement("input",{type:"text",placeholder:"Search Workflows",id:"searchBar"})))),l.a.createElement("div",{className:"col s3"},l.a.createElement("div",{className:"row",id:"filterbutton"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"filterbutton"}),l.a.createElement("a",{href:"#",className:"btn btn-large white black-text dropdown-trigger","data-target":"dropdown1",id:"filterbutton"},l.a.createElement("i",{className:"material-icons left"},"filter_list"),"Filter"),l.a.createElement("ul",{className:"dropdown-content",id:"dropdown1"},l.a.createElement("li",null,l.a.createElement("a",{href:"#"},"All")),l.a.createElement("li",null,l.a.createElement("a",{href:"#"},"Completed")),l.a.createElement("li",null,l.a.createElement("a",{href:"#"},"Pending")))))),l.a.createElement("div",{className:"col s3 right"},l.a.createElement("div",{className:"row",id:"createWorkflowButton"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"createWorkflowButton"}),l.a.createElement(u.b,{to:"/createworkflow",className:"btn btn-large green darken-4 accent-4",id:"createWorkflowButton"},l.a.createElement("i",{className:"material-icons left"},"add"),"Create Workflow")))))),l.a.createElement("div",{className:"divider darken-4"}),l.a.createElement("div",{className:"dashboard"},l.a.createElement("div",{className:"row"},l.a.createElement(N,{workflows:t})))):l.a.createElement(f.a,{to:"/signin"})}}]),a}(r.Component),k=Object(w.d)(Object(h.b)((function(e){return console.log(e),{workflows:e.firestore.ordered.workflows,auth:e.firebase.auth}})),Object(g.firestoreConnect)([{collection:"workflows"}]))(O),j=function(e){var t=e.node;return l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"divider"}),l.a.createElement("div",{className:"card-content input-field"},l.a.createElement("i",{className:"material-icons right grey circle done"},"done")),l.a.createElement("div",{className:"card-content container"},l.a.createElement("p",{className:"card-title"},t.nodeTitle)),l.a.createElement("div",{className:"divider"}),l.a.createElement("div",{className:"card-content input-field"},l.a.createElement("p",{className:"card-content"},t.nodeDetails)))},S=function(e){var t=e.nodes;return l.a.createElement("div",{className:"row"},t&&t.map((function(e){return l.a.createElement("div",{className:"col s4",key:e.id},l.a.createElement(u.b,{to:"/node/"+e.id},l.a.createElement(j,{node:e,key:e.id})))})))},C=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).handleChange=function(t){e.setState(Object(n.a)({},t.target.id,t.target.value))},e}return Object(s.a)(a,[{key:"render",value:function(){console.log(this.props);var e=this.props,t=e.nodes,a=e.workflow;console.log(a);this.props.match.params.id;return a?l.a.createElement("div",null,l.a.createElement("div",{className:"divider"}),l.a.createElement("div",{className:"section"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s3"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"searchBar"}),l.a.createElement("input",{type:"text",id:"searchBar",value:a.workflowTitle,onChange:this.handleChange})))),l.a.createElement("div",{className:"col s2 right"},l.a.createElement("div",{className:"row",id:"createWorkflowButton"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"save"}),l.a.createElement("button",{className:"btn btn-large blue darken-4 accent-4",id:"createWorkflowButton"},"Save ")))),l.a.createElement("div",{className:"col s2 right"},l.a.createElement("div",{className:"row",id:"createWorkflowButton"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"createNode"}),l.a.createElement(u.b,{to:"/createnode",className:"btn btn-large green darken-4 accent-4",id:"createWorkflowButton"},l.a.createElement("i",{className:"material-icons left"},"add"),"Add Node")))),l.a.createElement("div",{className:"col s2 right"},l.a.createElement("div",{className:"row",id:"createWorkflowButton"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"shuffleNode"}),l.a.createElement("button",{className:"btn btn-large red darken-4 accent-4",id:"createWorkflowButton"},l.a.createElement("i",{className:"material-icons left"},"clear"),"Delete")))),l.a.createElement("div",{className:"col s2 right"},l.a.createElement("div",{className:"row",id:"createWorkflowButton"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"shuffleNode"}),l.a.createElement("button",{className:"btn btn-large purple darken-4 accent-4",id:"createWorkflowButton"},l.a.createElement("i",{className:"material-icons left"},"shuffle"),"Shuffle ")))))),l.a.createElement("div",{className:"divider"}),l.a.createElement("div",{className:"dashboard"},l.a.createElement(S,{nodes:t}))):l.a.createElement("div",{className:"container center"},"Loading Workflow...")}}]),a}(r.Component),y=Object(w.d)(Object(h.b)((function(e,t){console.log(e);var a=t.match.params.id,n=e.firestore.data.workflows,r=n?n[a]:null;return{nodes:e.firestore.ordered.nodes,workflow:r}})),Object(g.firestoreConnect)([{collection:"workflows"},{collection:"nodes"}]))(C),F=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={email:"",password:""},e.handleSubmit=function(t){t.preventDefault(),e.props.signIn(e.state)},e.handleChange=function(t){e.setState(Object(n.a)({},t.target.id,t.target.value))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?l.a.createElement(f.a,{to:"/"}):l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},l.a.createElement("h5",null,"Login"),l.a.createElement("div",{className:"input-field"},l.a.createElement("i",{className:"material-icons prefix"},"email"),l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("i",{className:"material-icons prefix"},"star"),l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"rememberMe"},l.a.createElement("input",{type:"checkbox",id:"rememberMe"}),l.a.createElement("span",null,"Remember Me"))),l.a.createElement("div",{className:"input-field"},l.a.createElement("button",{className:"btn blue"},"Login"),l.a.createElement("div",{className:"red-text center"},t?l.a.createElement("p",null,t):null)),l.a.createElement("div",null,l.a.createElement(u.b,{to:"/signup"},"Don't have an account? Sign Up here"))))}}]),a}(r.Component),D=Object(h.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",e:t})}))}));var a}}}))(F),W=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={firstName:"",lastName:"",email:"",password:""},e.handleSubmit=function(t){t.preventDefault(),console.log(e.state),e.props.signUp(e.state)},e.handleChange=function(t){e.setState(Object(n.a)({},t.target.id,t.target.value))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;return t.uid?l.a.createElement(f.a,{to:"/"}):l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},l.a.createElement("h5",null,"Sign Up"),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"firstName"},"First Name"),l.a.createElement("input",{type:"text",id:"firstName",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"lastName"},"Last Name"),l.a.createElement("input",{type:"text",id:"lastName",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("button",{className:"btn blue"},"Sign Up"),l.a.createElement("div",{className:"red-text center"},a?l.a.createElement("p",null,a):null)),l.a.createElement("div",null,l.a.createElement(u.b,{to:"/signin"},"Already have an account? Log In here"))))}}]),a}(r.Component),L=Object(h.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,a,n){var r=n.getFirebase,l=n.getFirestore,c=r(),o=l();c.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return o.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName})})).then((function(){return t({type:"SIGNUP_SUCCESS"})})).catch((function(e){return t({type:"SIGNUP_ERROR",e:e})}))}}(t))}}}))(W),R=a(22),x=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={workflowTitle:"",workflowStatus:"pending"},e.handleSubmit=function(t){t.preventDefault(),e.props.createWorkflow(e.state),e.props.history.push("/")},e.handleChange=function(t){e.setState(Object(n.a)({},t.target.id,t.target.value))},e}return Object(s.a)(a,[{key:"render",value:function(){return this.props.auth.uid?l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},l.a.createElement("h5",null,"Create Workflow"),l.a.createElement("div",{className:"divider"}),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"workflowTitle"},"Workflow Title"),l.a.createElement("input",{type:"text",id:"workflowTitle",onChange:this.handleChange})),l.a.createElement("div",{className:"divider"}),l.a.createElement("div",{className:"input-field"},l.a.createElement("button",{className:"btn green",onClick:this.handleSubmit},"Add Workflow")))):l.a.createElement(f.a,{to:"/signin"})}}]),a}(r.Component),A=Object(h.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{createWorkflow:function(t){return e(function(e){return function(t,a,n){n.getFirebase;var r=(0,n.getFirestore)(),l=a().firebase.profile;r.collection("workflows").add(Object(R.a)(Object(R.a)({},e),{},{authorFirstName:l.firstName,authorLastName:l.lastName})).then((function(){t({type:"ADD_WORKFLOW",workflow:e})})).catch((function(e){t({type:"ADD_WORKFLOW_ERROR",e:e})}))}}(t))}}}))(x),_=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={nodeTitle:"",nodeDetails:"",nodeStatus:"pending"},e.handleSubmit=function(t){t.preventDefault(),console.log(e.props),e.props.createNode(e.state)},e.handleChange=function(t){e.setState(Object(n.a)({},t.target.id,t.target.value))},e}return Object(s.a)(a,[{key:"render",value:function(){return this.props.auth.uid?l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},l.a.createElement("h5",null,"Create Node"),l.a.createElement("div",{className:"divider"}),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"nodeTitle"},"Node Title"),l.a.createElement("input",{type:"text",id:"nodeTitle",onChange:this.handleChange})),l.a.createElement("div",{className:"divider"}),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"nodeDetails"},"Node Details"),l.a.createElement("textarea",{className:"materialize-textarea",id:"nodeDetails",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("button",{className:"btn green",onClick:this.handleSubmit}," Add Node")))):l.a.createElement(f.a,{to:"/signin"})}}]),a}(r.Component),I=Object(h.b)((function(e){return console.log(e),{auth:e.firebase.auth}}),(function(e){return{createNode:function(t){return e(function(e){return function(t,a,n){n.getFirebase,n.getFirestore;t({type:"ADD_NODE",node:e})}}(t))}}}))(_),T=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){this.props.match.params.id;console.log(this.props);var e=this.props.node;return e?l.a.createElement("div",null,l.a.createElement("div",{className:"divider"}),l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},l.a.createElement("h5",null,"Create Node"),l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"divider"}),l.a.createElement("div",{className:"card-content container input-field"},l.a.createElement("input",{type:"text",value:e.nodeTitle})),l.a.createElement("div",{className:"divider"}),l.a.createElement("div",{className:"card-content input-field"},l.a.createElement("textarea",{className:"materialize-textarea",value:e.nodeDetails}))))),l.a.createElement("div",{className:"divider"})):l.a.createElement("div",{className:"container center"},"Loading Node.......")}}]),a}(r.Component),U=Object(w.d)(Object(h.b)((function(e,t){var a=t.match.params.id,n=e.firestore.data.nodes;return{node:n?n[a]:null}})),Object(g.firestoreConnect)([]))(T),B=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(u.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(b,null),l.a.createElement(f.d,null,l.a.createElement(f.b,{exact:!0,path:"/",component:k}),l.a.createElement(f.b,{path:"/workflow/:id",component:y}),l.a.createElement(f.b,{path:"/signin",component:D}),l.a.createElement(f.b,{path:"/signup",component:L}),l.a.createElement(f.b,{path:"/createworkflow",component:A}),l.a.createElement(f.b,{path:"/createNode",component:I}),l.a.createElement(f.b,{path:"/node/:id",component:U}))))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P={authError:""},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return console.log("Login Success"),Object(R.a)(Object(R.a)({},e),{},{authError:null});case"LOGIN_ERROR":return console.log("Login Error"),Object(R.a)(Object(R.a)({},e),{},{authError:"Login failed"});case"LOGOUT_SUCCESS":return console.log("SignOut Success"),e;case"SIGNUP_SUCCESS":return console.log("Signup Success"),Object(R.a)(Object(R.a)({},e),{},{authError:null});case"SIGNUP_ERROR":return console.log("Signup error"),Object(R.a)(Object(R.a)({},e),{},{authError:t.e.message});default:return e}},K={workflows:[{id:"1",workflowTitle:"Workflow1"},{id:"2",workflowTitle:"Workflow2"},{id:"3",workflowTitle:"Workflow3"}]},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_WORKFLOW":return console.log("Added a new workflow",t.workflow),e;case"ADD_WORKFLOW_ERROR":return console.log("Adding a new workflow resulted in error",t.err),e;default:return e}},M={nodes:[{id:"1",nodeTitle:"Node1",nodeDetails:"Content for Node 1",nodeStatus:"pending"},{id:"2",nodeTitle:"Node2",nodeDetails:"Content for Node 2",nodeStatus:"completed"},{id:"3",nodeTitle:"Node3",nodeDetails:"Content for Node 3",nodeStatus:"inprogress"}]},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NODE":return console.log("Created Node",t.node),e;case"DELETE_NODE":console.log("Deleted the last node");break;case"SHUFFLE_NODE":console.log("Shuffled the nodes");break;default:return e}},Q=a(48),q=Object(w.c)({auth:G,workflow:z,node:J,firestore:Q.firestoreReducer,firebase:g.firebaseReducer}),H=a(210),X=a(87),Y=a.n(X),$=(a(402),a(405),{apiKey:"AIzaSyDXQQdSggAdAlbOdY-b9resB_hdLtaI1qU",authDomain:"workflowapp-problemstatement.firebaseapp.com",databaseURL:"https://workflowapp-problemstatement.firebaseio.com",projectId:"workflowapp-problemstatement",storageBucket:"workflowapp-problemstatement.appspot.com",messagingSenderId:"227696855038",appId:"1:227696855038:web:15030959aa4d6994b7a2af"});Y.a.initializeApp($),Y.a.firestore().settings({});var V,Z=Y.a,ee=Object(w.e)(q,Object(w.d)(Object(w.a)(H.a.withExtraArgument({getFirebase:g.getFirebase,getFirestore:Q.getFirestore})),Object(Q.reduxFirestore)(Z,$,{firebaseStateName:"firebaseReducer"}))),te=(V={firebase:Z,config:$},Object(n.a)(V,"config",{userProfile:"users",useFirestoreForProfile:!0}),Object(n.a)(V,"dispatch",ee.dispatch),Object(n.a)(V,"createFirestoreInstance",Q.createFirestoreInstance),Object(n.a)(V,"userProfile","users"),Object(n.a)(V,"presence","presence"),Object(n.a)(V,"sessions","sessions"),V);function ae(e){var t=e.children,a=Object(h.c)((function(e){return e.firebase.auth}));return Object(g.isLoaded)(a)?t:l.a.createElement("div",null,"Loading Screen....")}o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(h.a,{store:ee},l.a.createElement(g.ReactReduxFirebaseProvider,te,l.a.createElement(ae,null,l.a.createElement(B,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[211,1,2]]]);
//# sourceMappingURL=main.214bf703.chunk.js.map